<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{{ blog.title }} | SpydraWeb</title>
  <meta name="description" content="{{ blog.short_description }}">
  <meta charset="UTF-8">

  <title>{{ blog.title }} | SpydraWeb</title>

  <meta name="description"
        content="{{ blog.short_description }}">

  <!-- Open Graph -->
  <meta property="og:title"
        content="{{ blog.title }}">

  <meta property="og:description"
        content="{{ blog.short_description }}">

  <meta property="og:type" content="article">

  <meta property="og:url"
        content="{{ request.url }}">

  <meta property="og:image"
        content="{{ blog.image_url if blog.image_url else url_for('static', filename='images/default-blog.jpg', _external=True) }}">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title"
        content="{{ blog.title }}">
  <meta name="twitter:description"
        content="{{ blog.short_description }}">
  <meta name="twitter:image"
        content="{{ blog.image_url if blog.image_url else url_for('static', filename='images/default-blog.jpg', _external=True) }}">

  <link rel="stylesheet"
        href="{{ url_for('static', filename='css/main.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
</head>

<body>

  {% include 'components/navbar.html' %}

  <!-- ===== BLOG HERO HEADER ===== -->
  <section class="blog-detail-hero">

    <h1>{{ blog.title }}</h1>

    <div class="blog-meta">
      Published on {{ blog.created_at.strftime('%d %B %Y') }}
    </div>
    <div class="blog-meta">
      {{ blog.reading_time() }} min read
      </div>

      <div class="blog-tags">
      {% for tag in blog.tags %}
      <span class="tag">{{ tag.name }}</span>
      {% endfor %}
      </div>

  </section>


  <!-- ===== BLOG IMAGE (OPTIONAL) ===== -->
  {% if blog.image_url %}
  <section class="blog-detail-image">
    <img src="{{ blog.image_url if blog.image_url else url_for('static', filename='images/default-blog.jpg', _external=True) }}" alt="{{ blog.title }}">
  </section>
  {% endif %}


  <!-- ===== BLOG CONTENT ===== -->
  <section class="blog-detail-content">

    <div class="content-wrapper">
      {{ blog.content | safe }}
    </div>

  </section>
  <!-- RELATED BLOGS -->
      {% if related %}
      <section class="related-posts">
      <h3>Related Posts</h3>

      <div class="blogs-grid">
      {% for r in related %}
            <a href="{{ url_for('blog_detail', slug=r.slug) }}"
            class="blog-card">
            <h4>{{ r.title }}</h4>
            </a>
      {% endfor %}
      </div>
      </section>
      {% endif %}



  {% include 'components/footer.html' %}

</body>
</html>
